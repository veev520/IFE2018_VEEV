<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>IFE ECMAScript</title>
    <style>
    </style>
</head>

<body>

    <div id="svg-wapper">
        <svg id="svg" xmlns="http://www.w3.org/2000/svg" width="320" height="320" version="1.1">

            <!-- 坐标轴 -->
            <!-- <polyline points="10,10 10,310 310,310" style="fill:white;stroke:black;stroke-width:1" /> -->

            <!-- 箭头 -->
            <!-- <polygon points="8,10 12,10 10,7" style="fill:black;
    stroke:black;stroke-width:1" />
            <polygon points="310,308 310,312 313,310" style="fill:black;
    stroke:black;stroke-width:1" /> -->

            <!-- 坐标轴指示 -->
            <!-- <text x="16" y="16">X(个)</text> -->
            <!-- <text x="304" y="304">y(月)</text> -->

            <!-- <rect x="20" y="190" width="10" height="120" style="fill:white;stroke-width:1;stroke:red" />
            <rect x="40" y="210" width="10" height="100" style="fill:white;stroke-width:1;stroke:red" />
            <rect x="60" y="170" width="10" height="140" style="fill:white;stroke-width:1;stroke:red" />
            <rect x="80" y="150" width="10" height="160" style="fill:white;stroke-width:1;stroke:red" />
            <rect x="100" y="130" width="10" height="180" style="fill:white;stroke-width:1;stroke:red" />

            <rect x="120" y="125" width="10" height="185" style="fill:white;stroke-width:1;stroke:red" />
            <rect x="140" y="120" width="10" height="190" style="fill:white;stroke-width:1;stroke:red" />
            <rect x="160" y="100" width="10" height="210" style="fill:white;stroke-width:1;stroke:red" />
            <rect x="180" y="80" width="10" height="230" style="fill:white;stroke-width:1;stroke:red" />
            <rect x="200" y="65" width="10" height="245" style="fill:white;stroke-width:1;stroke:red" />
            <rect x="220" y="55" width="10" height="255" style="fill:white;stroke-width:1;stroke:red" />
            <rect x="240" y="40" width="10" height="270" style="fill:white;stroke-width:1;stroke:red" /> -->

        </svg>
    </div>

    <script>
        var svg = document.getElementById('svg');

        function fillBar(data) {
            svg.innerHTML = '';

            var axis = document.createElement('polyline');
            axis.setAttribute('points', '10,10 10,310 310,310');
            axis.setAttribute('fill', 'white');
            axis.setAttribute('stroke', 'black');
            axis.setAttribute('strokeWidth', 1);
        
            var arrowX = document.createElement('polygon');
            arrowX.setAttribute('points', '8,10 12,10 10,7');
            arrowX.setAttribute('fill', 'black');
            arrowX.setAttribute('stroke', 'black');
            arrowX.setAttribute('stroke-width', '1');

            var arrowY = document.createElement('polygon');
            arrowY.setAttribute('points', '310,308 310,312 313,310');
            arrowY.setAttribute('fill', 'black');
            arrowY.setAttribute('stroke', 'black');
            arrowY.setAttribute('stroke-width', '1');

            svg.appendChild(axis);
            svg.appendChild(arrowX);
            svg.appendChild(arrowY);
            
            var max = data.reduce(function(l, r) {
                return Math.max(l, r);
            });
            console.log(max);
            
            for (var i = 0; i < data.length; i++) {
                var bar = document.createElement('rect');
                bar.setAttribute('x', 20 + 20 * i);
                bar.setAttribute('y', 310 - data[i]);
                bar.setAttribute('width', 10);
                bar.setAttribute('height', data[i]);
                bar.setAttribute('style', 'fill:white;stroke-width:1;stroke:red');
                
                svg.appendChild(bar);
            }

            svg.innerHTML = svg.innerHTML;
        }

        fillBar([120, 100, 140, 160, 180, 185, 190, 210, 230, 245, 255, 270]);
    </script>
</body>

</html>